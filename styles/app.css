:root{
  /* --- Studio palette (greyscale with cool accent) --- */
  --bg-0:#0f1115;     /* page background (near-black) */
  --bg-1:#151a21;     /* scene backdrop / canvas wrap */
  --bg-2:#1b212a;     /* panel base */
  --bg-3:#222a35;     /* raised elements, tab strip */
  --bg-4:#2a3441;     /* inputs surface */
  --line-0:#2c3542;   /* thin borders */
  --line-1:#394453;   /* heavy borders / seams */
  --fg-0:#e8ecf3;     /* primary text */
  --fg-1:#cfd6e2;     /* secondary text */
  --muted:#9aa3b2;    /* labels */
  --accent:#4aa3ff;   /* selection/primary */
  --accent-2:#7bc0ff; /* hover */
  --danger:#ff5d6c;

  /* Shadows are subtle to keep the “software” look crisp */
  --shadow-0: 0 6px 16px rgba(0,0,0,.35);

  /* Safe areas */
  --safe-top:env(safe-area-inset-top);
  --safe-bottom:env(safe-area-inset-bottom);
  --safe-left:env(safe-area-inset-left);
  --safe-right:env(safe-area-inset-right);

  /* Control sizing – desktop defaults */
  --h-ctrl:36px;
  --pad-ctrl:8px 10px;
  --radius-desk:0px;      /* square on desktop (flush) */
  --radius-mobile:8px;    /* gentle on mobile */
  --font: 14px;
  --font-small: 12px;
}

/* Mobile: larger targets */
@media (hover:none) and (pointer:coarse){
  :root{
    --h-ctrl:44px;
    --pad-ctrl:10px 12px;
    --radius-desk:8px;     /* treat as card on mobile */
    --font:16px;
    --font-small:13px;
  }
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
  height:100%; margin:0;
  background:var(--bg-0); color:var(--fg-0);
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial
}

/* ===== LAYOUT WRAPPER ===================================================== */
#app{
  height:100svh;
  display:grid;
  grid-template-areas:"scene" "panel";
  grid-template-rows: 56svh 1fr;           /* MOBILE: scene on top */
  grid-template-columns: 1fr;
  gap:0;
  padding-left:max(8px,var(--safe-left));
  padding-right:max(8px,var(--safe-right));
}

/* Desktop: side-by-side & FLUSH (no round, no page padding) */
@media (min-width:900px){
  #app{
    padding:0;  /* critical for flush */
    grid-template-areas:"scene panel";
    grid-template-rows: 100svh;
    grid-template-columns: minmax(560px, 1fr) minmax(360px, 36vw);
  }
}

/* ===== SCENE HOST + CANVAS ============================================== */
#sceneHost{
  grid-area:scene;
  position:relative;
  height:100%;
  overflow:hidden;
  background: var(--bg-1);
  border-right: none;
}
@media (min-width:900px){
  #sceneHost{ border-right:1px solid var(--line-1); }
}

#c{
  position:absolute; inset:0; width:100%; height:100%;
  display:block; outline:none; touch-action:none; z-index:0;
}

/* ===== PANEL ============================================================= */
#panel.card{
  grid-area:panel;
  position:relative;
  z-index:10;
  background:var(--bg-2);
  border:1px solid var(--line-1);
  border-left-color: var(--line-1);
  border-radius: var(--radius-desk);
  box-shadow:none; /* software flat */
  overflow:hidden;
  display:flex; flex-direction:column;
}

/* Mobile: becomes card with gentle radius and margin */
@media (max-width:899.98px){
  #panel.card{
    margin-top:8px; min-height:40svh;
    border-radius: var(--radius-mobile);
    box-shadow: var(--shadow-0);
  }
}

/* ===== TABS =============================================================== */
#panel .tabs{
  height:42px;
  display:grid; grid-template-columns:repeat(5,1fr);
  background:var(--bg-3);
  border-bottom:1px solid var(--line-1);
}
#panel .tab{
  min-height:42px; padding:0 8px; background:transparent; border:0;
  color:var(--fg-1); font-weight:700; font-size:var(--font);
  position:relative; cursor:pointer;
}
#panel .tab:hover{ color:#ffffff; }
#panel .tab.on{
  color:#ffffff;
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0));
}
#panel .tab.on::after{
  content:""; position:absolute; left:8px; right:8px; bottom:0;
  height:2px; background:var(--accent);
  border-radius:1px;
}

/* Tab content */
#panel .tabcontent{
  display:none; flex:1 1 auto; overflow:auto; padding:12px;
  -webkit-overflow-scrolling:touch;
}
#panel .tabcontent.on{ display:block; }
.section{ margin-bottom:12px; }
.section.muted{ color:var(--muted); }
.row{ display:flex; align-items:center; gap:12px; margin:12px 0; }
.row-split{ justify-content:space-between; }
label{ color:var(--muted); font-size:var(--font); }

/* ===== CONTROLS ========================================================== */
button, .pill, input[type="number"], input[type="text"], input[type="decimal"], select{
  height: var(--h-ctrl);
  padding: var(--pad-ctrl);
  border-radius: 4px;                 /* small, square-ish */
  border:1px solid var(--line-0);
  background: var(--bg-4);
  color: var(--fg-0);
  font-size: var(--font);
  outline:none;
}

/* Inputs */
.input-pair{ display:flex; align-items:center; gap:10px; }
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
input[type=number]{ -moz-appearance:textfield; }
input, select{
  min-width: 108px;
}
select{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--fg-1) 50%),
    linear-gradient(135deg, var(--fg-1) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 12px) 50%;
  background-size:6px 6px, 6px 6px;
  background-repeat:no-repeat;
  padding-right:28px;
}

.times{ color:var(--muted); }

/* Buttons (neutral) */
button,.pill{
  background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.08)), var(--bg-4);
  color: var(--fg-0);
  border-color: var(--line-0);
  font-weight:600;
  cursor:pointer;
}
button:hover{ border-color: var(--line-1); background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.1)), var(--bg-4); }
button:active{ transform:translateY(0); filter:brightness(0.97); }

/* Primary button */
button.primary{
  background: linear-gradient(180deg, var(--accent-2), var(--accent));
  color:#06131f;
  border-color:#2a7dd6;
}
button.primary:hover{ filter:brightness(1.05); }

/* Toggle buttons */
button.toggle.on{
  background: rgba(74,163,255,0.15);
  border-color: #2a7dd6;
  box-shadow: inset 0 0 0 1px rgba(74,163,255,0.35);
}

/* Grid layout of two buttons side-by-side */
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }

/* Spinners */
.spinner{ display:flex; align-items:center; gap:10px; }
.spinner input{
  width:100px; text-align:center;
}
.spinner button{
  width: var(--h-ctrl); min-width: var(--h-ctrl);
  padding:0; font-weight:800; font-size:16px;
}

/* Switch (used in Sculpt + NavLock file) */
.switch{ position:relative; display:inline-block; width:56px; height:28px; }
.switch input{ display:none; }
.slider{
  position:absolute; inset:0;
  background:#263240; border-radius:999px; transition:.18s;
  border:1px solid var(--line-0);
}
.slider:before{
  content:""; position:absolute; width:22px; height:22px; left:3px; top:3px;
  background:#fff; border-radius:50%; transition:.18s; box-shadow:0 1px 2px rgba(0,0,0,.35);
}
.switch input:checked + .slider{ background:#3e83c9; border-color:#2a7dd6; }
.switch input:checked + .slider:before{ transform:translateX(28px); }

/* Hints / touch */
.hint{ margin:8px 4px 0; color:var(--muted); font-size:var(--font-small); }

/* ===== ACCESSIBILITY STATES ============================================= */
button:focus-visible,
input:focus-visible,
select:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:1px;
}

/* ===== SCROLLBARS (WebKit) ============================================== */
#panel .tabcontent::-webkit-scrollbar{ width:10px; }
#panel .tabcontent::-webkit-scrollbar-thumb{
  background: #3a4555; border-radius:6px; border:2px solid transparent; background-clip:padding-box;
}
#panel .tabcontent::-webkit-scrollbar-track{ background:#212834; }

/* ===== BOOTSTRAP OVERLAY (optional harmony) ============================= */
#tc-bootstrap{
  background: var(--bg-0) !important;
  color: var(--fg-0) !important;
}
#tc-bootstrap .bar{
  background: var(--bg-3) !important;
  border: 1px solid var(--line-0) !important;
  border-radius: 6px !important;
}
#tc-bootstrap .fill{ background: linear-gradient(180deg, var(--accent-2), var(--accent)) !important; }
#tc-bootstrap .btn{ background: var(--bg-3) !important; border-color: var(--line-0) !important; color: var(--fg-0) !important; }
#tc-bootstrap .btn.primary{ background: linear-gradient(180deg, var(--accent-2), var(--accent)) !important; color:#06131f !important; }

/* ===== NAV LOCK harmony (keeps flush on desktop) ======================== */
#tc-navlock{
  border-radius: 0 !important;       /* square on desktop */
  border-color: var(--line-1) !important;
  background: rgba(27,33,42,0.92) !important;
}
@media (max-width:899.98px){
  #tc-navlock{ border-radius: var(--radius-mobile) !important; }
}
